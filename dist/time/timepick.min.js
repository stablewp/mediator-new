!function(t){"use strict";var i="picktim";function e(e,s){var n=this;if(this.MODES={h12:"h12",h24:"h24"},this.ORIENTATIONS={topLeft:"topLeft",topRight:"topRight",bottomLeft:"bottomLeft",bottomRight:"bottomRight",leftTop:"leftTop",leftBottom:"leftBottom",rightTop:"rightTop",rightBottom:"rightBottom"},this.element=e[0],this.$element=t(this.element),this.settings=t.extend({backgroundColor:"#EEE",borderColor:"#DDD",textColor:"#333",symbolColor:"#333",appendTo:"body",mode:this.MODES.h24,orientation:this.ORIENTATIONS.bottomLeft,defaultValue:"00:00",formName:"",icons:{up:"fa fa-chevron-up fa-fw",down:"fa fa-chevron-down fa-fw",clear:"fa fa-times fa-fw"}},s),this.timeouts={iH:0,dH:1,iM:2,dM:3},"now"===this.settings.defaultValue){var o=new Date;this.setDefaultValue(("0"+o.getHours()).slice(-2)+":"+("0"+o.getMinutes()).slice(-2))}return this.validTime(this.settings.defaultValue)||this.setDefaultValue("00:00"),this.incrementInterval=150,this.incrementUpCount=0,this.incrementValue=1,this.position=t(this).offset(),this._name=i,this.tPopup=t("<div>"),this.tPopup.addClass("picktim-container"),this.settings.mode===this.MODES.h24?this.tPopup.get(0).style.setProperty("--picktim-container-width","150px"):this.tPopup.get(0).style.setProperty("--picktim-container-width","200px"),this.setOrientation(),this.tPopup.hide(),t(this.settings.appendTo).append(this.tPopup),this.cTable=t("<table>"),this.cTable.addClass("picktim-table"),this.tPopup.append(this.cTable),this.cTable.topRow=t("<tr>"),this.cTable.midRow=t("<tr>"),this.cTable.botRow=t("<tr>"),this.cTable.append(this.cTable.topRow),this.cTable.append(this.cTable.midRow),this.cTable.append(this.cTable.botRow),this.cTable.topRow.c1=t("<td>"),this.cTable.topRow.c2=t("<td>"),this.cTable.topRow.c3=t("<td>"),this.cTable.topRow.c4=t("<td>"),this.cTable.topRow.append(this.cTable.topRow.c1,this.cTable.topRow.c2,this.cTable.topRow.c3,this.cTable.topRow.c4),this.cTable.midRow.c1=t("<td>"),this.cTable.midRow.c2=t("<td>"),this.cTable.midRow.c3=t("<td>"),this.cTable.midRow.c4=t("<td>"),this.cTable.midRow.append(this.cTable.midRow.c1,this.cTable.midRow.c2,this.cTable.midRow.c3,this.cTable.midRow.c4),this.cTable.botRow.c1=t("<td>"),this.cTable.botRow.c2=t("<td>"),this.cTable.botRow.c3=t("<td>"),this.cTable.botRow.c4=t("<td>"),this.cTable.botRow.append(this.cTable.botRow.c1,this.cTable.botRow.c2,this.cTable.botRow.c3,this.cTable.botRow.c4),this.tHours=t("<input>"),this.tHours.attr("type","text"),this.tHours.addClass("picktim-hour"),this.tHours.on("change",t.proxy(function(){this.updateInput()},this)),this.cTable.midRow.c1.append(this.tHours),this.tMins=t("<input>"),this.tMins.attr("type","text"),this.tMins.addClass("picktim-mins"),this.tMins.on("change",t.proxy(function(){this.updateInput()},this)),this.cTable.midRow.c3.append(this.tMins),this.cTable.midRow.c2.text(":"),this.cTable.midRow.c2.addClass("picktim-separator picktim-symbol"),this.incHours=t("<i>"),this.incHours.addClass("picktim-btn picktim-symbol"),this.incHours.addClass(this.settings.icons.up),this.incHours.on("mousedown touchstart",t.proxy(function(i){this.incrementHours(),this.tHours.addClass("active"),this.timeouts.iH=setInterval(t.proxy(function(){this.incrementHours(this.incrementValue),this.incrementUpCount<5?this.incrementUpCount++:5===this.incrementUpCount&&(this.incrementValue=5,this.incrementUpCount++)},this),this.incrementInterval)},this)).bind("mouseup mouseleave touchend",t.proxy(function(){this.tHours.removeClass("active"),clearInterval(this.timeouts.iH),this.incrementUpCount=0,this.incrementValue=1},this)),this.cTable.topRow.c1.append(this.incHours),this.decHours=t("<i>"),this.decHours.addClass("picktim-btn picktim-symbol"),this.decHours.addClass(this.settings.icons.down),this.decHours.on("mousedown touchstart",t.proxy(function(i){this.decrementHours(),this.tHours.addClass("active"),this.timeouts.dH=setInterval(t.proxy(function(){this.decrementHours(this.incrementValue),this.incrementUpCount<5?this.incrementUpCount++:5===this.incrementUpCount&&(this.incrementValue=5,this.incrementUpCount++)},this),this.incrementInterval)},this)).bind("mouseup mouseleave touchend",t.proxy(function(){this.tHours.removeClass("active"),clearInterval(this.timeouts.dH),this.incrementUpCount=0,this.incrementValue=1},this)),this.cTable.botRow.c1.append(this.decHours),this.incMins=t("<i>"),this.incMins.addClass("picktim-btn picktim-symbol"),this.incMins.addClass(this.settings.icons.up),this.incMins.on("mousedown touchstart",t.proxy(function(i){this.incrementMinutes(),this.tMins.addClass("active"),this.timeouts.iM=setInterval(t.proxy(function(){this.incrementMinutes(this.incrementValue),this.incrementUpCount<5?this.incrementUpCount++:5===this.incrementUpCount&&(this.incrementValue=5,this.incrementUpCount++)},this),this.incrementInterval)},this)).bind("mouseup mouseleave touchend",t.proxy(function(){this.tMins.removeClass("active"),clearInterval(this.timeouts.iM),this.incrementUpCount=0,this.incrementValue=1},this)),this.cTable.topRow.c3.append(this.incMins),this.decMins=t("<i>"),this.decMins.addClass("picktim-btn picktim-symbol"),this.decMins.addClass(this.settings.icons.down),this.decMins.on("mousedown touchstart",t.proxy(function(i){this.decrementMinutes(),this.tMins.addClass("active"),this.timeouts.dM=setInterval(t.proxy(function(){this.decrementMinutes(this.incrementValue),this.incrementUpCount<5?this.incrementUpCount++:5===this.incrementUpCount&&(this.incrementValue=5,this.incrementUpCount++)},this),this.incrementInterval)},this)).bind("mouseup mouseleave touchend",t.proxy(function(){this.tMins.removeClass("active"),clearInterval(this.timeouts.dM),this.incrementUpCount=0,this.incrementValue=1},this)),this.cTable.botRow.c3.append(this.decMins),this.clearBtn=t("<i>"),this.clearBtn.addClass("picktim-clear"),this.clearBtn.addClass(this.settings.icons.clear),this.$element.append(this.clearBtn),this.clearBtn.css({color:this.$element.find("input").css("color")}),this.clearBtn.on("click",t.proxy(function(){this.$element.find("input").val("")},this)),this.ampm=t("<div>"),this.settings.mode===this.MODES.h12&&this.ampm.addClass("picktim-btn picktim-ampm"),this.cTable.midRow.c4.append(this.ampm),this.settings.mode===this.MODES.h24?this.ampm.text(""):this.ampm.text("AM"),this.ampm.on("click",t.proxy(function(){"AM"==this.ampm.text()?this.ampm.text("PM"):this.ampm.text("AM"),this.updateInput()},this)),this.$element.find("input").on("change",t.proxy(function(){this.checkTime()},this)),this.tPopup.on("click",function(t){t.stopPropagation()}),this.$element.find("input").click(function(i){if(i.stopPropagation(),!n.tPopup.hasClass("active")){var e=t(this).val().split(":");t(".picktim-container").hide(),t(".picktim-container").removeClass("active"),n.showPopup(),""===n.value()?n.updateInput():(t(".picktim-hour").val(e[0]),t(".picktim-mins").val(e[1])),t("body").one("click",function(){n.hidePopup()})}}),this.cTable.find(".picktim-symbol").css("color",this.settings.symbolColor),this.tPopup.css("background-color",this.settings.backgroundColor),this.tPopup.css("border-color",this.settings.borderColor),this.tPopup.css("color",this.settings.textColor),this}e.prototype.value=function(t){if(void 0===t||null==t)return this.$element.find("input").val();this.$element.find("input").val(t)},e.prototype.showPopup=function(){this.setOrientation(),this.tPopup.show(),this.tPopup.addClass("active")},e.prototype.hidePopup=function(){this.tPopup.hide(),this.tPopup.removeClass("active")},e.prototype.setOrientation=function(){switch(this.settings.orientation){case this.ORIENTATIONS.bottomLeft:this.tPopup.css({top:this.$element.find("input").offset().top+10+this.$element.find("input").outerHeight(),left:this.$element.find("input").offset().left});break;case this.ORIENTATIONS.bottomRight:this.tPopup.css({top:this.$element.find("input").offset().top+10+this.$element.find("input").outerHeight(),left:this.$element.find("input").offset().left+this.$element.find("input").outerWidth()});break;case this.ORIENTATIONS.topLeft:this.tPopup.css({top:this.$element.find("input").offset().top-130,left:this.$element.find("input").offset().left});break;case this.ORIENTATIONS.topRight:this.tPopup.css({top:this.$element.find("input").offset().top-130,left:this.$element.find("input").offset().left+this.$element.find("input").outerWidth()});break;case this.ORIENTATIONS.leftBottom:this.tPopup.css({top:this.$element.find("input").offset().top+this.$element.find("input").outerHeight(),left:this.$element.find("input").offset().left-10-this.tPopup.outerWidth()});break;case this.ORIENTATIONS.leftTop:this.tPopup.css({top:this.$element.find("input").offset().top,left:this.$element.find("input").offset().left-10-this.tPopup.outerWidth()});break;case this.ORIENTATIONS.rightBottom:this.tPopup.css({top:this.$element.find("input").offset().top+this.$element.find("input").outerHeight(),left:this.$element.find("input").offset().left+10+this.$element.find("input").outerWidth()});break;case this.ORIENTATIONS.rightTop:this.tPopup.css({top:this.$element.find("input").offset().top,left:this.$element.find("input").offset().left+10+this.$element.find("input").outerWidth()});break;default:console.log(this.settings.orientation),this.tPopup.css({top:this.$element.find("input").offset().top+10+this.$element.find("input").outerHeight(),left:this.$element.find("input").offset().left})}},e.prototype.updateInput=function(){this.checknums(),this.settings.mode===this.MODES.h24?this.$element.find("input").val(this.tHours.val()+":"+this.tMins.val()):"AM"===this.ampm.text()?this.$element.find("input").val(this.tHours.val()+":"+this.tMins.val()):this.$element.find("input").val(parseInt(this.tHours.val())+12+":"+this.tMins.val())},e.prototype.checknums=function(t){var i=this.tHours,e=this.tMins,s=parseInt(i.val(),10),n=parseInt(e.val(),10),o=this.settings.defaultValue.split(":"),h=parseInt(o[0],10),a=parseInt(o[1],10);isNaN(s)&&(i.val(o[0]),i.data.val=h,s=h),""===i.val()?(i.val(o[0]),i.data.val=h):this.settings.mode===this.MODES.h24&&s>23?(i.val("23"),i.data.val=23):this.settings.mode===this.MODES.h12&&s>11?(i.val("11"),i.data.val=11):s<0?(i.val("00"),i.data.val=0):(i.val(("0"+s).slice(-2)),i.data.val=s),isNaN(n)&&(e.val(o[1]),e.data.val=a,n=a),""==e.val()?(e.val(o[1]),e.data.val=a):e.val()>59?(e.val("59"),e.data.val=59):e.val()<0?(e.val("00"),e.data.val=0):(e.val(("0"+n).slice(-2)),e.data.val=n)},e.prototype.checkTime=function(t){this.validTime(this.$element.find("input").val())||this.$element.find("input").val(this.settings.defaultValue);var i=this.$element.find("input").val().split(":");if(this.tMins.val(("0"+i[1]).slice(-2)),this.tMins.data.val=parseInt(i[1],10),this.settings.mode===this.MODES.h24)this.tHours.val(("0"+i[0]).slice(-2)),this.tHours.data.val=parseInt(i[0],10),this.$element.find("input").val(("0"+i[0]).slice(-2)+":"+("0"+i[1]).slice(-2));else{var e=parseInt(i[0],10);e>11?(this.tHours.val(""+e-12),this.tHours.data.val=e-12,this.ampm.text("PM")):(this.tHours.val(("0"+i[0]).slice(-2)),this.tHours.data.val=e,this.ampm.text("AM"))}},e.prototype.validTime=function(t){const i=/^([0-9]|0[0-9]|1[0-1]):([0-9]|[0-5][0-9])$/,e=/^([0-9]|0[0-9]|1[0-9]|2[0-3]):([0-9]|[0-5][0-9])$/;if(this.settings.mode===this.MODES.h24){if(!e.test(t)&&""!=t)return!1}else if(!i.test(t)&&""!=t)return!1;return!0},e.prototype.iDL=function(t,i,e,s){return i?t==s-1||isNaN(t)||""==t?0:null!=e?parseInt(t)+e>s-1?parseInt(t)+e-s:parseInt(t)+e:parseInt(t)+1:0==t||isNaN(t)||""==t?s-1:null!=e?parseInt(t)-e<0?parseInt(t)-e+s:parseInt(t)-e:parseInt(t)-1},e.prototype.incrementHours=function(t){this.settings.mode===this.MODES.h24?this.tHours.val(this.iDL(this.tHours.val(),!0,t,24)):this.tHours.val(this.iDL(this.tHours.val(),!0,t,12)),this.tHours.trigger("change")},e.prototype.decrementHours=function(t){this.settings.mode===this.MODES.h24?this.tHours.val(this.iDL(this.tHours.val(),!1,t,24)):this.tHours.val(this.iDL(this.tHours.val(),!1,t,12)),this.tHours.trigger("change")},e.prototype.incrementMinutes=function(t){this.tMins.val(this.iDL(this.tMins.val(),!0,t,60)),this.tMins.trigger("change")},e.prototype.decrementMinutes=function(t){this.tMins.val(this.iDL(this.tMins.val(),!1,t,60)),this.tMins.trigger("change")},e.prototype.setDefaultValue=function(t){this.validTime(t)&&(this.settings.defaultValue=t)},e.prototype.getDefaultValue=function(){return this.settings.defaultValue},t.fn[i]=function(s){var n=t(this).data(i);if(void 0===s||"object"==typeof s)return n||t(this).data(i,new e(this,s)),this;if("string"==typeof s&&"function"==typeof n[s]){if(0!==s.indexOf("_"))return n[s](Array.prototype.slice.call(arguments,1));console.warn("Method "+s+" is private!")}else console.warn("Method "+s+" does not exist.")}}(jQuery);